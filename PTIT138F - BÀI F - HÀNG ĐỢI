#include <bits/stdc++.h>
#define endl "\n"
using namespace std;
int main()
{
    ios_base::sync_with_stdio(0);
    cin.tie(0);
    int t;
    cin >> t;
    while (t--)
    {
        int m, n, pos = 0, pos1 = 0;
        string s;
        cin >> n >> m;
        int b[m][2];
        cin.ignore();
        getline(cin, s);
        for (int i = 0; i < m; i++)
            cin >> b[i][0] >> b[i][1];
        vector<string> a(n);
        for (int i = 0; i < s.size(); i++)
        {
            if (s[i] != ' ')
                a[pos].push_back(s[i]);
            else
                pos++;
        }
        pos++;
        vector<string> c(n, "");
        for (int i = 0; i < m; i++)
        {
            c[b[i][1] - 1] = a[b[i][0] - 1];
            a[b[i][0] - 1] = "";
        }
        for (int i = 0; i < n; i++)
        {
            if (c[i] == "")
            {
                while (a[pos1] == "")
                    pos1++;
                c[i] = a[pos1];
                a[pos1] = "";
            }
        }
        for (int i = 0; i < n; i++)
            cout << c[i] << " ";
        cout << endl;
    }
}
/* Do Xuan Huong
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@##################@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@#############################@@@@@@@@@@@@@@@@
@@@@@@@@@@@@&####################################@@@@@@@@@@@@
@@@@@@@@@@##########################################@@@@@@@@@
@@@@@@@@##############################################@@@@@@@
@@@@@@#################################################@@@@@@
@@@@@####################################################@@@@
@@@%#####################@@@@@@@@@@@######################@@@
@@@###################@@@@@@@@@@@@@@@@@####################@@
@@##################@@@@@@         @@@@@@##################@@
@@#################@@@@@             @@@@###################@
@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@
@                  &@@@@             @@@@           .......@@
@@                  @@@@@@         @@@@@@           .......@@
@@                    @@@@@@@@@@@@@@@@@            .......@@@
@@@                      @@@@@@@@@@@               ......@@@@
@@@@                                              ......@@@@@
@@@@@@                                           ......@@@@@@
@@@@@@@                                         .....@@@@@@@@
@@@@@@@@@                                     .....@@@@@@@@@@
@@@@@@@@@@@@                                ....@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@                         ....@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@%                .@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
*/
